<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alien Thoughts — From 14 October 2025</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Grotesk:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#060913;         /* deep space */
      --panel:#0d1221cc;    /* glass panel */
      --text:#dfe8ff;       /* star white */
      --muted:#94a3b8;      /* slate */
      --accent:#6BFF90;     /* alien green */
      --accent-2:#6ecbff;   /* nebula blue */
      --danger:#ff6b6b;     /* comet red */
      --ring:#6bff9066;     /* glow ring */
      --card:#0b1020cc;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:"Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.4; overflow-x:hidden;
    }

    /* Starfield layers */
    .stars, .stars:before, .stars:after{
      content:""; position:fixed; inset:0; z-index:-3; background:transparent; pointer-events:none;
    }
    .stars{ background: radial-gradient(1200px 600px at 10% -10%, #182036 10%, transparent 60%),
                          radial-gradient(1000px 500px at 110% 10%, #0f1530 10%, transparent 60%)}
    .stars:before{ 
      box-shadow: 
        10vw 5vh #ffffff88, 20vw 40vh #ffffff33, 30vw 70vh #ffffffaa,
        50vw 20vh #ffffff66, 70vw 80vh #ffffffcc, 90vw 10vh #ffffff55,
        15vw 85vh #ffffff66, 65vw 50vh #ffffff44, 80vw 30vh #ffffff99,
        40vw 90vh #ffffff55, 5vw 60vh #ffffff77, 55vw 10vh #ffffff55,
        75vw 65vh #ffffff99, 35vw 15vh #ffffff55, 95vw 55vh #ffffff66; 
      height:2px; width:2px; border-radius:50%;
      filter: drop-shadow(0 0 6px #fff);
    }
    .stars:after{
      box-shadow: 
        12vw 25vh #6ecbff, 22vw 60vh #6bff90, 60vw 15vh #6ecbff,
        80vw 75vh #6bff90, 45vw 45vh #6ecbffaa, 5vw 15vh #6bff90aa,
        95vw 35vh #6ecbff99, 30vw 88vh #6bff9099; 
      height:3px; width:3px; border-radius:50%;
      filter: blur(0.5px) drop-shadow(0 0 8px var(--accent-2));
      animation: twinkle 4.5s infinite alternate ease-in-out;
    }
    @keyframes twinkle{ from{opacity:.6; transform:translateY(-1px)} to{opacity:1; transform:translateY(1px)} }

    header{
      position:sticky; top:0; z-index:5; backdrop-filter: blur(10px);
      background: linear-gradient(180deg, #0d1221dd, #0d1221aa 60%, transparent);
      border-bottom:1px solid #1e2a52; box-shadow: 0 4px 24px #00000066;
    }
    .wrap{ max-width:1100px; margin:0 auto; padding:20px; }
    .brand{ display:flex; align-items:center; gap:16px; padding:10px 0; }
    .brand .logo{ width:40px; height:40px; display:grid; place-items:center; border-radius:50%;
      background: radial-gradient(60% 60% at 50% 30%, var(--accent), #243b55 80%);
      box-shadow: 0 0 0 6px #6bff9022, 0 0 40px var(--ring);
      border:1px solid #2b6c40;
    }
    .brand h1{ font-family:"Orbitron", system-ui; letter-spacing:1px; margin:0; font-size:clamp(20px, 3.6vw, 30px); }
    .brand small{ color:var(--muted); display:block; margin-top:2px; font-size:12px }

    .grid{ display:grid; grid-template-columns: 1fr; gap:22px; }
    @media (max-width: 920px){ .grid{ grid-template-columns:1fr } }

    .panel{ background:var(--panel); border:1px solid #1e2a52; border-radius:16px; padding:18px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    .panel.compose{  
  max-width:none;
  margin:0;      
  width:100%;
} /* widened from 820px -> 980px */
    .panel h2{ font-family:"Orbitron"; font-size:18px; margin:0 0 14px; letter-spacing:.5px }

    label{ display:block; font-size:13px; color:var(--muted); margin:12px 0 6px }
    input[type="text"], input[type="date"], textarea{ width:100%; border:1px solid #22335f; background:#0a1229; color:var(--text); border-radius:10px; padding:10px; }
    textarea{ min-height:160px; resize:vertical }
    input:focus, textarea:focus{ outline:none; border-color:#3a7a64; box-shadow: 0 0 0 6px var(--ring) }

    .row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }

    .btn{ appearance:none; border:none; cursor:pointer; padding:10px 14px; border-radius:9999px;
      background:linear-gradient(180deg, #0f1a34, #0a1229); color:var(--text); border:1px solid #20315c;
      font-weight:600; letter-spacing:.3px; transition: transform .05s ease, box-shadow .2s ease;
    }
    .btn:hover{ box-shadow: 0 0 0 4px #6ecbff22, 0 8px 28px #00000066 }
    .btn:active{ transform: translateY(1px) }
    .btn.primary{ background: radial-gradient(120% 160% at 50% 0%, var(--accent), #0f1a34 70%); color:#04210d; border-color:#2b6c40 }
    .btn.ghost{ background:transparent }
    .btn.danger{ background: radial-gradient(120% 160% at 50% 0%, var(--danger), #1b0f15 70%); color:#2a0b0b; border-color:#632b2b }

    .entries{ display:grid; gap:16px; }
    .entry{ position:relative; border-radius:16px; padding:16px; background:linear-gradient(180deg, #0c1226, #081022); border:1px solid #1e2a52 }
    .entry:before{ content:""; position:absolute; inset:-1px; z-index:-1; border-radius:inherit; 
      background:conic-gradient(from 0deg, #6bff90 0deg, #6ecbff 120deg, #8a7bff 240deg, #6bff90 360deg);
      filter: blur(20px); opacity:.06;
    }
    .entry .meta{ display:flex; align-items:center; gap:8px; color:var(--muted); font-size:12px; }
    .entry h3{ margin:6px 0 8px; font-size:18px; letter-spacing:.3px }
    .entry p{ margin:0; white-space:pre-wrap; overflow-wrap:anywhere; word-break:break-word }

    .chip{ display:inline-flex; align-items:center; gap:6px; border:1px solid #24407a; background:#0a1229; color:#9ac4ff; border-radius:9999px; padding:6px 10px; font-size:12px }

    .tools{ display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; margin-top:12px }

    footer{ color:var(--muted); text-align:center; padding:32px 0 60px }
    code.k{ padding:2px 6px; border-radius:8px; border:1px solid #22335f; background:#0a1229; color:#9ac4ff }
  </style>
</head>
<body>
  <div class="stars"></div>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- Simple alien glyph -->
          <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 3C7.8 3 5 6.2 5 9.8 5 14.4 9.5 20 12 21c2.5-1 7-6.6 7-11.2C19 6.2 16.2 3 12 3Z" stroke="#04210d" fill="#6BFF90" stroke-width="1.2"/>
            <ellipse cx="9" cy="11" rx="2.4" ry="1.6" fill="#0a1126"/>
            <ellipse cx="15" cy="11" rx="2.4" ry="1.6" fill="#0a1126"/>
            <circle cx="12" cy="15.4" r=".9" fill="#0a1126"/>
          </svg>
        </div>
        <div>
          <h1>Alien Thoughts</h1>
          <small>Launch date: <strong>14 October 2025</strong></small>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <!-- Compose Panel -->
      <section class="panel compose" aria-label="Compose diary entry">
        <h2>💡Enlighten me!💡</h2>
        <div class="row">
          <div style="flex:1">
            <label for="date">👽Date</label>
            <input id="date" type="date" />
          </div>
          <div style="width:160px">
            <label for="mood">🌌Mood</label>
            <input id="mood" type="text" placeholder="e.g., 👽 curious" />
          </div>
        </div>
        <label for="title">🛸Title</label>
        <input id="title" type="text" placeholder="A child needs a name..." />

        <label for="content">🖖Entry</label>
        <textarea id="content" placeholder="What did you discover among the nebulae today?" wrap="soft"></textarea>

        <div class="row" style="justify-content:space-between; margin-top:12px">
          <div class="row">
            <button class="btn primary" id="saveBtn">Save Entry</button>
            <button class="btn ghost" id="clearBtn" title="Clear input fields">Clear</button>
          </div>
          <div class="row">
  <button class="btn" id="exportBtn" title="Download entries as TXT">Export</button>
<label class="btn" for="importFile" title="Import entries from TXT or JSON">Import</label>
<input id="importFile" type="file" accept=".txt,text/plain,application/json,text/*" style="display:none" />

          </div>

        </div>
      </section>

      <!-- Entries Panel -->
      <section class="panel" aria-label="Diary entries">
        <h2>👽Entries</h2>
        <div id="stats" class="row" style="justify-content:space-between; margin-bottom:8px">
          <span class="chip" id="rangeBadge">Starting 14 Oct 2025</span>
          <span class="chip" id="countBadge">0 entries</span>
        </div>
        <div class="row" style="gap:10px; align-items:flex-end; margin-bottom:10px">
          <div style="flex:1; min-width:220px">
            <label for="filterDate">Pick a date to check</label>
            <input id="filterDate" type="date" />
          </div>
          <button class="btn" id="checkBtn">Check Entries</button>
          <button class="btn ghost" id="showAllBtn" title="Show all entries">Show All</button>
        </div>
        <div class="entries" id="entries" style="display:none"></div>
      </section>
    </div>
  </main>

  <footer>
    🌌👽Built differently. When you finish, slap the fuck out of that <code class="k">Export</code> button.👽🌌
  </footer>


<script>
(function(){
  const LS_KEY = 'cosmicDiaryEntries_v1';
  const START_ISO = '2025-10-14'; // 14 October 2025

  // Elements
  const dateEl = document.getElementById('date');
  const moodEl = document.getElementById('mood');
  const titleEl = document.getElementById('title');
  const contentEl = document.getElementById('content');
  const saveBtn = document.getElementById('saveBtn');
  const clearBtn = document.getElementById('clearBtn');
  const exportBtn = document.getElementById('exportBtn');
  const importFile = document.getElementById('importFile');
  const entriesWrap = document.getElementById('entries');
  const countBadge = document.getElementById('countBadge');
  const rangeBadge = document.getElementById('rangeBadge');
  const filterDateEl = document.getElementById('filterDate');
  const checkBtn = document.getElementById('checkBtn');
  const showAllBtn = document.getElementById('showAllBtn');

  // Default date is today if after start, otherwise start date
  const todayISO = new Date().toISOString().slice(0,10);
  dateEl.value = (todayISO < START_ISO) ? START_ISO : todayISO;
  dateEl.min = START_ISO; // prevent earlier than launch

  // Filter date defaults
  filterDateEl.value = (todayISO < START_ISO) ? START_ISO : todayISO;
  filterDateEl.min = START_ISO;

  rangeBadge.textContent = 'Starting ' + formatHumanDate(START_ISO);



  // --- Manual entries ---
let entries = [



{
  id: "manual-2",
  date: "2025-10-15",
  mood: "🧠 Smart",
  title: "A NIGHT WHERE IT BEGAN...",
  content: "I've always been too lazy, too lazy to even remind myself who I am, but somehow I find this whole prospect of being inside this spaceship a helpful endeavor, a small but faintly reckless act of rebellion against the long-enterenched norms of memory that have shaped me.",
  createdAt: Date.now(),
  updatedAt: Date.now()
},


 {
  id: "manual-1",
  date: "2025-10-14",
  mood: "🛸 Wonderful",
  title: "ONCE UPON A TIME THERE WAS AN ALIEN...",
  content: "I find myself wondering, whether I have found or have created this spaceship.",
  createdAt: Date.now(),
  updatedAt: Date.now()
}






];


// --- End manual entries ---



























save(entries);

  // Do not show entries by default; user must click "Check Entries"

  saveBtn.addEventListener('click', () => {
    const entry = createEntry();
    if (!entry.title && !entry.content.trim()){
      alert('Write something cosmic before saving ✨');
      return;
    }
    entries.push(entry);
    entries.sort((a,b)=> b.date.localeCompare(a.date) || b.createdAt - a.createdAt);
    save(entries);
    if (entriesWrap.style.display !== 'none') {
      const fd = activeFilterDate();
      render(fd, true);
    }
    clearInputs();
  });

  clearBtn.addEventListener('click', clearInputs);

exportBtn.addEventListener('click', () => {
  let textContent = entries.map((e, i) => {
    return `{
  id: "manual-${i + 1}",
  date: "${e.date}",
  mood: "${e.mood.replace(/"/g, '\\"')}",
  title: "${e.title.replace(/"/g, '\\"')}",
  content: "${e.content.replace(/"/g, '\\"')}",
  createdAt: Date.now(),
  updatedAt: Date.now()
},`;
  }).join('\n\n');

  const blob = new Blob([textContent], {type:'text/plain'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'alien-thoughts.txt'; a.click();
  URL.revokeObjectURL(url);
});


importFile.addEventListener('change', async (e) => {
  const file = e.target.files[0]; if (!file) return;
  try {
    const raw = await file.text();

    // 1) Strip JS-style comments so parsing stays clean
    const cleaned = raw
      .replace(/\/\*[\s\S]*?\*\//g, '')  // /* block comments */
      .replace(/\/\/.*$/gm, '');         // // line comments

    // 2) Find each { ... } block (works whether separated by commas or newlines)
    const blocks = cleaned.match(/{[\s\S]*?}/g) || [];

    const newEntries = blocks.map(block => {
      const get = (re, fallback = '') => {
        const m = block.match(re);
        return m ? m[1] : fallback;
      };

      const date = get(/date:\s*"([^"]+)"/, new Date().toISOString().slice(0,10));
      const mood = get(/mood:\s*"([^"]*)"/, '');
      const title = get(/title:\s*"([^"]*)"/, 'Untitled');

      // Capture everything inside the content string, even across lines
      let content = get(/content:\s*"([\s\S]*?)"\s*(?:,|\n|\r|$)/, '');
      // Unescape any \" that were exported
      content = content.replace(/\\"/g, '"');

      return {
        id: crypto.randomUUID(),
        date,
        mood,
        title,
        content,
        createdAt: Date.now(),
        updatedAt: Date.now()
      };
    });

    entries = [...entries, ...newEntries]
      .sort((a,b)=> b.date.localeCompare(a.date) || b.createdAt - a.createdAt);

    save(entries);
    alert('Text import successful 🚀');
    if (entriesWrap.style.display !== 'none') render(activeFilterDate(), true);

  } catch (err) {
    alert('Import failed: ' + err.message);
  } finally {
    importFile.value = '';
  }
});




  checkBtn.addEventListener('click', () => {
    render(activeFilterDate(), true);
  });
  showAllBtn.addEventListener('click', () => {
    render(null, true);
  });

  function createEntry(){
    return {
      id: (crypto?.randomUUID ? crypto.randomUUID() : String(Date.now()) + Math.random().toString(16).slice(2)),
      date: (dateEl.value || START_ISO),
      mood: moodEl.value.trim(),
      title: titleEl.value.trim(),
      content: contentEl.value,
      createdAt: Date.now(),
      updatedAt: Date.now(),
    };
  }

  function seedEntry(){
    return {
      id: (crypto?.randomUUID ? crypto.randomUUID() : String(Date.now()) + Math.random().toString(16).slice(2)),
      date: START_ISO,
      mood: '👽 awaiting first contact',
      title: 'Launch Day',
      content: 'The log begins. The cosmos hums. From today, I write among the stars.',
      createdAt: Date.now(),
      updatedAt: Date.now(),
    };
  }

  function render(filterDate=null, reveal=false){
    let list = entries;
    let descriptor = 'all entries';
    if (filterDate){
      list = entries.filter(e => e.date === filterDate);
      descriptor = 'entries on ' + formatHumanDate(filterDate);
    }
    entriesWrap.innerHTML = '';
    list.forEach(e => entriesWrap.appendChild(entryCard(e)));
    countBadge.textContent = `${list.length} ${list.length===1?'entry':'entries'}${filterDate?` • ${descriptor}`:''}`;
    if (reveal) entriesWrap.style.display = 'grid';
  }

  function entryCard(e){
    const div = document.createElement('article');
    div.className = 'entry';
    div.innerHTML = `
      <div class="meta">
        <span class="chip" title="Date">🗓️ ${formatHumanDate(e.date)}</span>
        ${e.mood ? `<span class="chip" title="Mood">${escapeHTML(e.mood)}</span>`: ''}
      </div>
      <h3>${e.title ? escapeHTML(e.title) : 'Untitled Log'}</h3>
      <p>${escapeHTML(e.content)}</p>
      <div class="tools">
        <button class="btn ghost" data-edit="${e.id}">Edit</button>
        <button class="btn danger" data-del="${e.id}">Delete</button>
      </div>
    `;

    div.querySelector('[data-del]')?.addEventListener('click', () => {
      if(confirm('Delete this entry? This cannot be undone.')){
        entries = entries.filter(x => x.id !== e.id);
        save(entries); render(activeFilterDate(), entriesWrap.style.display !== 'none');
      }
    });

    div.querySelector('[data-edit]')?.addEventListener('click', () => {
      const newTitle = prompt('Title', e.title || '');
      if (newTitle === null) return;
      const newContent = prompt('Edit entry text', e.content || '');
      if (newContent === null) return;
      const newMood = prompt('Mood (e.g., 👽 curious)', e.mood || '');
      if (newMood === null) return;
      e.title = newTitle.trim();
      e.content = newContent;
      e.mood = newMood.trim();
      e.updatedAt = Date.now();
      save(entries); render(activeFilterDate(), entriesWrap.style.display !== 'none');
    });

    return div;
  }

  function save(list){ localStorage.setItem(LS_KEY, JSON.stringify(list)); }
  function load(){ try{ return JSON.parse(localStorage.getItem(LS_KEY)||'[]') }catch{ return [] } }

  function clearInputs(){
    titleEl.value = '';
    contentEl.value = '';
    moodEl.value = '';
    autosize(contentEl);
  }

  function formatHumanDate(iso){
    const d = new Date(iso + 'T00:00:00');
    return d.toLocaleDateString(undefined, { day:'2-digit', month:'short', year:'numeric' });
  }

  function escapeHTML(s){
    return (s||'').replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c]));
  }
  function autosize(el){
    el.style.height = 'auto';
    el.style.height = (el.scrollHeight) + 'px';
  }
  contentEl.addEventListener('input', () => autosize(contentEl));
  autosize(contentEl);

  function activeFilterDate(){
    return (filterDateEl.value || START_ISO);
  }
})();
</script>
</body>
</html>
